<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="_Template.xhtml"
                xmlns:jsf="http://xmlns.jcp.org/jsf"      
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">
        <div class="row-fluid">
            <div class="span12">
                <h3 class="lighter block blue">
                    <b>
                        Contratos Pendentes de Recebimento
                    </b>
                </h3>
                
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th class="center">Cliente</th>
                            <th class="center">Imóvel</th>
                            <th class="center">Valor</th>
                            <th class="center">Status</th>
                            <th class="center">Data</th>
                            <th class="center">Valor Depósito</th>
                            <th></th>
                        </tr>
                        <tbody>
                            <ui:repeat var="p" value="#{pendentContractsBean.pendents}">
                                <tr>
                                    <td class="center">#{p.propertyCustomer.customer.name} #{p.propertyCustomer.customer.lastName}</td>
                                    <td class="center">
                                        <form jsf:id="propertyDetailForm">
                                        <a jsf:action="#{pendentContractsBean.propertyDetail()}">
                                            #{p.propertyCustomer.property.type.label} #{p.propertyCustomer.property.neighborhood}
                                            <f:setPropertyActionListener target="#{pendentContractsBean.selected}"
                                                                         value="#{p}"/>
                                        </a>
                                        </form>
                                    </td>
                                    <td class="center">
                                        R$
                                        <h:outputText value="#{p.propertyCustomer.property.value}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </td>
                                    <td class="center">#{p.propertyCustomer.property.status.label}</td>
                                    <td class="center">
                                        <h:outputText value="#{p.propertyCustomer.startedDate}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                    </td>
                                    <td class="center">
                                        R$
                                        <h:outputText value="#{p.propertyCustomer.depositValue}">
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </td>
                                    <td class="center">
                                        <div class="hidden-phone visible-desktop btn-group">
                                            <button class="btn btn-mini btn-success" title="Aprovar">
                                                <i class="icon-ok bigger-120"></i>
                                            </button>
                                            <button class="btn btn-mini btn-danger" title="Recusar">
                                                <i class="icon-trash bigger-120"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </ui:repeat>
                        </tbody>
                    </thead>
                </table>
            </div>
        </div>
    </ui:define>

</ui:composition>